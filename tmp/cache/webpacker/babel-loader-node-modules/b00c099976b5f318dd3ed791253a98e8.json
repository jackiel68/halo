{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"/Volumes/Work/work/dev/project/projects/halo/app/javascript/src/userOnboarding/components/UserOnboarding/UserOnboarding.jsx\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { PureComponent } from 'react';\nimport { css, StyleSheet } from 'aphrodite';\nimport PropTypes from 'prop-types';\nimport { Container, Form, Radio, Grid, Dropdown, Button, Icon } from 'semantic-ui-react';\nimport _, { debounce } from 'lodash';\nimport classnames from \"classnames\";\nimport { COLORS, WINDOW_DIMENSIONS } from '../../../../constants';\nimport { authenticityToken, getCookie } from '../../../marketplace/utils/requests';\nimport haloLogo from '../../../../images/logos/halo_logo.svg';\nvar TABLET_LANDSCAPE_MEDIA_QUERY = WINDOW_DIMENSIONS.TABLET_LANDSCAPE_MEDIA_QUERY,\n    MOBILE_MEDIA_QUERY = WINDOW_DIMENSIONS.MOBILE_MEDIA_QUERY;\nvar styles = StyleSheet.create({\n  UserOnboarding_container: _defineProperty({\n    marginBottom: '100px'\n  }, MOBILE_MEDIA_QUERY, {\n    margin: '0'\n  }),\n  UserOnboarding_logoBanner: {\n    textAlign: 'center',\n    backgroundColor: COLORS.snowWhite,\n    paddingTop: '15px',\n    paddingBottom: '15px',\n    marginBottom: '50px'\n  },\n  UserOnboarding_stepTab: _defineProperty({\n    textAlign: 'center',\n    width: '33%',\n    fontSize: '14px',\n    fontWeight: 600,\n    lineHeight: '16px',\n    color: COLORS.lightGray,\n    paddingBottom: '33px',\n    paddingLeft: '0',\n    paddingRight: '0',\n    borderBottom: \"1px solid \".concat(COLORS.lightGray)\n  }, MOBILE_MEDIA_QUERY, {\n    paddingBottom: '12px'\n  }),\n  UserOnboarding_steps: _defineProperty({}, MOBILE_MEDIA_QUERY, {\n    marginLeft: '0'\n  }),\n  UserOnboarding_activeTab: {\n    color: COLORS.lightBlack,\n    borderBottom: \"2px solid \".concat(COLORS.lightBlue)\n  },\n  UserOnboarding_stepContainer: _defineProperty({\n    textAlign: 'center',\n    width: '60%',\n    margin: 'auto'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%'\n  }),\n  UserOnboarding_step1Description: _defineProperty({\n    margin: '50px auto 5px',\n    color: COLORS.lightBlack,\n    fontSize: '24px',\n    lineHeight: '32px',\n    fontWeight: 'bold',\n    textAlign: 'left',\n    width: '90%'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%'\n  }),\n  UserOnboarding_subdescription: _defineProperty({\n    fontSize: '14px',\n    textAlign: 'left',\n    width: '90%',\n    margin: '0 auto 30px',\n    color: COLORS.lightBlack\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%'\n  }),\n  UserOnboarding_step2Description: _defineProperty({\n    margin: '50px auto 5px',\n    width: '90%',\n    textAlign: 'left',\n    color: COLORS.lightBlack,\n    fontSize: '24px',\n    lineHeight: '32px',\n    fontWeight: 'bold'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%'\n  }),\n  UserOnboarding_step2Subdescription: {\n    margin: '0 auto 50px',\n    width: '90%',\n    textAlign: 'left',\n    color: COLORS.darkGray,\n    fontSize: '13px',\n    lineHeight: '24px'\n  },\n  UserOnboarding_radioGroup: {\n    textAlign: 'left',\n    marginLeft: '30px'\n  },\n  UserOnboarding_fieldLabel: _defineProperty({\n    textAlign: 'left',\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '16px',\n    color: COLORS.darkGray,\n    margin: '0 auto 5px',\n    width: '90%'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%'\n  }),\n  UserOnboarding_inputContainer: _defineProperty({\n    width: '90%',\n    margin: 'auto'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%'\n  }),\n  UserOnboarding_fieldSublabel: _defineProperty({\n    textAlign: 'left',\n    fontSize: '10px',\n    fontWeight: 500,\n    lineHeight: '24px',\n    color: COLORS.lightGray,\n    margin: '0 auto 5px',\n    width: '90%'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%'\n  }),\n  UserOnboarding_dropdown: _defineProperty({\n    width: '90%',\n    margin: 'auto',\n    flexWrap: 'wrap',\n    fontSize: '14px',\n    height: '48px',\n    display: 'flex',\n    alignItems: 'center'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%'\n  }),\n  UserOnboarding_input: _defineProperty({\n    width: '90%',\n    margin: 'auto',\n    padding: '10px',\n    fontSize: '14px',\n    marginBottom: '10px'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%'\n  }),\n  UserOnboarding_radioButton: {\n    marginBottom: '0px'\n  },\n  UserOnboarding_leftInput: _defineProperty({\n    width: '48%',\n    marginRight: '4%',\n    display: 'inline-block',\n    padding: '10px',\n    fontSize: '14px'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%',\n    border: '1px solid',\n    borderColor: COLORS.inputBorderGray,\n    borderRadius: '4px',\n    marginBottom: '10px'\n  }),\n  UserOnboarding_rightInput: _defineProperty({\n    width: '48%',\n    display: 'inline-block',\n    padding: '10px',\n    fontSize: '14px'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%',\n    border: '1px solid',\n    borderColor: COLORS.inputBorderGray,\n    borderRadius: '4px'\n  }),\n  UserOnboarding_radioLabel: {\n    fontSize: '14px'\n  },\n  UserOnboarding_continueButtonHolder: _defineProperty({\n    textAlign: 'left',\n    display: 'flex'\n  }, MOBILE_MEDIA_QUERY, {\n    marginTop: '30px',\n    flexDirection: 'column-reverse'\n  }),\n  UserOnboarding_continueButton: _defineProperty({\n    background: COLORS.lightBlue,\n    backgroundImage: 'linear-gradient(134.72deg, #4E9DF5 0%, #48B2F4 100%)',\n    width: '166px',\n    height: '48px',\n    textAlign: 'center',\n    color: COLORS.white,\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    marginLeft: '4%',\n    marginTop: '50px'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%',\n    margin: '0'\n  }),\n  UserOnboarding_backButton: _defineProperty({\n    backgroundColor: COLORS.white,\n    width: '166px',\n    height: '48px',\n    textAlign: 'center',\n    color: COLORS.lightBlack,\n    border: \"1px solid \".concat(COLORS.lightGray),\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    marginLeft: '4%',\n    marginTop: '50px'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%',\n    marginLeft: '0',\n    marginTop: '8px'\n  }),\n  UserOnboarding_searchDropdown: _defineProperty({\n    width: '90%',\n    fontSize: '14px',\n    minHeight: '48px',\n    paddingTop: '8px',\n    margin: 'auto'\n  }, MOBILE_MEDIA_QUERY, {\n    width: '100%'\n  }),\n  UserOnboarding_searchContainer: {\n    display: 'flex'\n  },\n  UserOnboarding_topPadding: {\n    paddingTop: '16px'\n  }\n});\n\nvar yearOptions = _.range(new Date().getFullYear(), 1950, -1).map(function (year) {\n  return {\n    key: year,\n    text: year,\n    value: String(year)\n  };\n});\n\nvar titleOptions = gon.user_title_options;\nvar expertiseOptions = gon.areas_of_expertise;\nvar keywordOptions = gon.research_keywords;\n\nvar UserOnboarding =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(UserOnboarding, _PureComponent);\n\n  function UserOnboarding() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UserOnboarding);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UserOnboarding)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      currentStep: 1,\n      title: '',\n      location: '',\n      startYear: '',\n      expertise: '',\n      companyName: '',\n      keywords: [],\n      searchQuery: '',\n      loadingSearch: false,\n      keywordSearchOptions: [],\n      universityOptions: [],\n      loadingLocationSearch: false,\n      locationSearchQuery: ''\n    };\n\n    _this.incrementStep = function () {\n      _this.setState(function (prevState) {\n        return {\n          currentStep: prevState.currentStep + 1\n        };\n      });\n    };\n\n    _this.decrementStep = function () {\n      _this.setState(function (prevState) {\n        return {\n          currentStep: prevState.currentStep - 1\n        };\n      });\n    };\n\n    _this.handleFirstName = function (e, selection) {\n      _this.setState({\n        firstName: e.target.value\n      });\n    };\n\n    _this.handleLastName = function (e, selection) {\n      _this.setState({\n        lastName: e.target.value\n      });\n    };\n\n    _this.handleTitle = function (e, selection) {\n      _this.setState({\n        title: selection.value\n      });\n    };\n\n    _this.handleCompanyName = function (e, selection) {\n      _this.setState({\n        companyName: e.target.value\n      });\n    };\n\n    _this.handleCompanyURL = function (e, selection) {\n      _this.setState({\n        companyURL: e.target.value\n      });\n    };\n\n    _this.handleOtherSpecialty = function (e, selection) {\n      _this.setState({\n        otherSpecialty: e.target.value\n      });\n    };\n\n    _this.handleLocation = function (e, selection) {\n      _this.setState({\n        locationSearchQuery: selection.value,\n        location: selection.value\n      });\n    };\n\n    _this.handleLocationSearchQuery = function (options, query) {\n      var _this$state = _this.state,\n          universityOptions = _this$state.universityOptions,\n          location = _this$state.location;\n      return _.uniqBy([{\n        key: location,\n        text: location,\n        value: location\n      }].concat(universityOptions), 'value').filter(function (university) {\n        return university.value.length > 0;\n      });\n    };\n\n    _this.universitySearch = debounce(function _callee(name) {\n      var response, responseJson, universities;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.setState({\n                loadingLocationSearch: true\n              });\n\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(fetch(\"/universities/search?name=\".concat(name), {\n                method: 'GET',\n                headers: {\n                  'Accept': 'application/json'\n                }\n              }));\n\n            case 3:\n              response = _context.sent;\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 6:\n              responseJson = _context.sent;\n              universities = responseJson.universities;\n\n              _this.setState({\n                location: '',\n                universityOptions: universities,\n                loadingLocationSearch: false\n              });\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    }, 500, {\n      leading: true,\n      trailing: true\n    });\n\n    _this.handleLocationSearchChange = function _callee2(e, _ref) {\n      var searchQuery;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              searchQuery = _ref.searchQuery;\n\n              _this.universitySearch(searchQuery);\n\n              _this.setState({\n                locationSearchQuery: searchQuery\n              });\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    };\n\n    _this.handleExpertise = function (e, selection) {\n      _this.setState({\n        expertise: selection.value\n      });\n    };\n\n    _this.handleKeywords = function (e, selection) {\n      _this.setState(function (prevState) {\n        if (selection.value.length > 6) {\n          return {\n            keywords: prevState.keywords,\n            searchQuery: ''\n          };\n        } else {\n          return {\n            keywords: selection.value || [],\n            searchQuery: ''\n          };\n        }\n      });\n    };\n\n    _this.handleSearchQuery = function (options, query) {\n      return _this.state.keywordSearchOptions;\n    };\n\n    _this.keywordSearch = debounce(function _callee3(researchType) {\n      var keywords, response, responseJson, researchKeywords;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              keywords = _this.state.keywords;\n\n              _this.setState({\n                loadingSearch: true\n              });\n\n              _context3.next = 4;\n              return _regeneratorRuntime.awrap(fetch(\"/research_keywords/search?research_type=\".concat(researchType), {\n                method: 'GET',\n                headers: {\n                  'Accept': 'application/json'\n                }\n              }));\n\n            case 4:\n              response = _context3.sent;\n              _context3.next = 7;\n              return _regeneratorRuntime.awrap(response.json());\n\n            case 7:\n              responseJson = _context3.sent;\n              researchKeywords = responseJson.research_keywords;\n\n              _this.setState({\n                keywordSearchOptions: _.uniqBy(researchKeywords.concat(keywords.map(function (keyword) {\n                  return {\n                    key: keyword,\n                    text: keyword,\n                    value: keyword\n                  };\n                })), 'key'),\n                loadingSearch: false\n              });\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      });\n    }, 500, {\n      leading: true,\n      trailing: true\n    });\n\n    _this.handleSearchChange = function _callee4(e, _ref2) {\n      var searchQuery;\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              searchQuery = _ref2.searchQuery;\n\n              _this.keywordSearch(searchQuery);\n\n              _this.setState({\n                searchQuery: searchQuery\n              });\n\n            case 3:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      });\n    };\n\n    _this.handleSubmit = function _callee5(e) {\n      var _this$state2, title, location, expertise, keywords, companyName, companyURL, startYear, otherSpecialty, formData, onboardingResponse, responseJson;\n\n      return _regeneratorRuntime.async(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              e.preventDefault();\n              _this$state2 = _this.state, title = _this$state2.title, location = _this$state2.location, expertise = _this$state2.expertise, keywords = _this$state2.keywords, companyName = _this$state2.companyName, companyURL = _this$state2.companyURL, startYear = _this$state2.startYear, otherSpecialty = _this$state2.otherSpecialty;\n\n              _this.setState({\n                isSubmitting: true,\n                errors: {},\n                hasSubmitted: true\n              });\n\n              formData = new FormData();\n              formData.append('user[first_name]', firstName);\n              formData.append('user[last_name]', lastName);\n              formData.append('user_profile_info[title]', title);\n\n              if (title === 'startup_founder') {\n                formData.append('startup[startup_name]', companyName);\n                formData.append('startup[url]', companyURL);\n                formData.append('startup[start_year]', startYear);\n              } else {\n                formData.append('user_profile_info[location]', location);\n                formData.append('user_profile_info[location_start_year]', startYear);\n              }\n\n              formData.append('user_profile_info[keywords]', keywords);\n              formData.append('user_profile_info[area_of_expertise]', expertise.replace('other_specialty', otherSpecialty));\n              _context5.prev = 10;\n              _context5.next = 13;\n              return _regeneratorRuntime.awrap(fetch('/onboarding', {\n                method: 'POST',\n                body: formData,\n                headers: {\n                  'Accept': 'application/json',\n                  'X-CSRF-Token': authenticityToken()\n                }\n              }));\n\n            case 13:\n              onboardingResponse = _context5.sent;\n              _context5.next = 16;\n              return _regeneratorRuntime.awrap(onboardingResponse.json());\n\n            case 16:\n              responseJson = _context5.sent;\n\n              if (responseJson.errors) {\n                _this.setState({\n                  isSubmitting: false,\n                  errors: responseJson.errors\n                });\n              } else {\n                window.location.href = '/research/water';\n              }\n\n              _context5.next = 23;\n              break;\n\n            case 20:\n              _context5.prev = 20;\n              _context5.t0 = _context5[\"catch\"](10);\n\n              _this.setState({\n                isSubmitting: false\n              });\n\n            case 23:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, null, [[10, 20]]);\n    };\n\n    _this.handleYears = function (e, selection, attr) {\n      _this.setState(_defineProperty({}, attr, selection.value));\n    };\n\n    _this.renderStep = function () {\n      var _React$createElement;\n\n      var _this$state3 = _this.state,\n          currentStep = _this$state3.currentStep,\n          title = _this$state3.title,\n          location = _this$state3.location,\n          expertise = _this$state3.expertise,\n          keywords = _this$state3.keywords,\n          firstName = _this$state3.firstName,\n          lastName = _this$state3.lastName,\n          companyName = _this$state3.companyName,\n          companyURL = _this$state3.companyURL,\n          isSubmitting = _this$state3.isSubmitting,\n          searchQuery = _this$state3.searchQuery,\n          loadingSearch = _this$state3.loadingSearch,\n          keywordSearchOptions = _this$state3.keywordSearchOptions,\n          startYear = _this$state3.startYear,\n          loadingLocationSearch = _this$state3.loadingLocationSearch,\n          locationSearchQuery = _this$state3.locationSearchQuery,\n          universityOptions = _this$state3.universityOptions,\n          otherSpecialty = _this$state3.otherSpecialty;\n      var step2Disabled = title === 'startup_founder' ? !companyName || !startYear || companyName.length === 0 || startYear.length === 0 : !location || !startYear || location.length === 0 || startYear.length === 0;\n\n      switch (currentStep) {\n        case 1:\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 529\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: css(styles.UserOnboarding_step1Description),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 530\n            },\n            __self: this\n          }, \"Tell us about yourself.\"), React.createElement(\"div\", {\n            className: css(styles.UserOnboarding_subdescription),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 533\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: css(styles.UserOnboarding_fieldLabel),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 536\n            },\n            __self: this\n          }, \"What best describes your role?\"), React.createElement(\"div\", {\n            className: \"custom-dropdown\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 539\n            },\n            __self: this\n          }, React.createElement(Dropdown, {\n            icon: \"chevron down\",\n            className: css(styles.UserOnboarding_dropdown),\n            placeholder: \"Select a role\",\n            fluid: true,\n            selection: true,\n            value: title,\n            search: true,\n            options: titleOptions,\n            onChange: _this.handleTitle,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 540\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: css(styles.UserOnboarding_continueButtonHolder),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 552\n            },\n            __self: this\n          }, \"\\xA0\", React.createElement(Button, {\n            className: css(styles.UserOnboarding_continueButton),\n            type: \"submit\",\n            onClick: _this.incrementStep,\n            disabled: !title || !firstName || !lastName || firstName.length === 0 || lastName.length === 0 || title.length === 0,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 553\n            },\n            __self: this\n          }, \"Continue\")));\n\n        case 2:\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 566\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: css(styles.UserOnboarding_step2Description),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 567\n            },\n            __self: this\n          }, \"Lab\"), React.createElement(\"div\", {\n            className: css(styles.UserOnboarding_subdescription),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 570\n            },\n            __self: this\n          }, title === 'startup_founder' ? 'Tell us about your startup' : 'Where do you conduct your research?'), React.createElement(\"div\", {\n            className: css(styles.UserOnboarding_fieldLabel),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 573\n            },\n            __self: this\n          }, title === 'startup_founder' ? 'Company Name' : 'Research Institution'), title === 'startup_founder' ? React.createElement(\"input\", {\n            className: css(styles.UserOnboarding_input),\n            placeholder: \"Company Name\",\n            value: companyName,\n            onChange: _this.handleCompanyName,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 577\n            },\n            __self: this\n          }) : React.createElement(\"div\", {\n            className: classnames(css(styles.UserOnboarding_searchContainer), \"onboarding-dropdown\"),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 584\n            },\n            __self: this\n          }, React.createElement(Dropdown, {\n            className: css(styles.UserOnboarding_searchDropdown, styles.UserOnboarding_topPadding),\n            placeholder: \"Search institutions\",\n            fluid: true,\n            icon: React.createElement(Icon, {\n              name: \"search\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 589\n              },\n              __self: this\n            }),\n            selection: true,\n            open: universityOptions.length > 0 && !location,\n            closeOnChange: true,\n            search: _this.handleLocationSearchQuery,\n            options: universityOptions,\n            onChange: _this.handleLocation,\n            searchQuery: locationSearchQuery,\n            onSearchChange: _this.handleLocationSearchChange,\n            loading: loadingLocationSearch,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 585\n            },\n            __self: this\n          })), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 602\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: css(styles.UserOnboarding_fieldLabel),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 603\n            },\n            __self: this\n          }, \"Start Year\"), React.createElement(\"div\", {\n            className: \"custom-dropdown\",\n            style: {\n              paddingBottom: title === 'startup_founder' ? '10px' : '0'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 606\n            },\n            __self: this\n          }, React.createElement(Dropdown, {\n            icon: \"chevron down\",\n            className: css(styles.UserOnboarding_dropdown),\n            fluid: true,\n            selection: true,\n            placeholder: title === 'startup_founder' ? 'Year Founded' : 'Select the year you started here',\n            value: startYear || '',\n            options: yearOptions,\n            onChange: function onChange(e, selection) {\n              return _this.handleYears(e, selection, 'startYear');\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 607\n            },\n            __self: this\n          })), title === 'startup_founder' && React.createElement(React.Fragment, null, React.createElement(\"input\", {\n            className: css(styles.UserOnboarding_input),\n            placeholder: \"Company URL\",\n            value: companyURL,\n            onChange: _this.handleCompanyURL,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 620\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: css(styles.UserOnboarding_continueButtonHolder),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 627\n            },\n            __self: this\n          }, \"\\xA0\", React.createElement(Button, {\n            className: css(styles.UserOnboarding_backButton),\n            type: \"submit\",\n            onClick: _this.decrementStep,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 628\n            },\n            __self: this\n          }, \"Back\"), React.createElement(Button, {\n            className: css(styles.UserOnboarding_continueButton),\n            type: \"submit\",\n            onClick: _this.incrementStep,\n            disabled: step2Disabled,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 635\n            },\n            __self: this\n          }, \"Continue\")));\n\n        case 3:\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 648\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: css(styles.UserOnboarding_step2Description),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 649\n            },\n            __self: this\n          }, \"Research Area\"), React.createElement(\"div\", {\n            className: css(styles.UserOnboarding_subdescription),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 652\n            },\n            __self: this\n          }, \"This will appear on your profile to help industry partners find you. Don\\u2019t worry, you can always change this later.\"), React.createElement(\"div\", {\n            className: css(styles.UserOnboarding_fieldLabel),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 656\n            },\n            __self: this\n          }, \"Research Area\"), React.createElement(\"div\", {\n            className: \"custom-dropdown\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 659\n            },\n            __self: this\n          }, React.createElement(Dropdown, {\n            icon: \"chevron down\",\n            className: css(styles.UserOnboarding_dropdown),\n            placeholder: \"Research Area (select one)\",\n            fluid: true,\n            selection: true,\n            options: expertiseOptions,\n            onChange: _this.handleExpertise,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 660\n            },\n            __self: this\n          })), expertise === 'other_specialty' && React.createElement(\"input\", {\n            className: css(styles.UserOnboarding_input),\n            placeholder: \"Specify your specialty...\",\n            value: otherSpecialty,\n            onChange: _this.handleOtherSpecialty,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 671\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 677\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: css(styles.UserOnboarding_fieldLabel),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 678\n            },\n            __self: this\n          }, \"Select up to 6 keywords that describe your lab research.\"), React.createElement(\"div\", {\n            className: classnames(css(styles.UserOnboarding_searchContainer), \"onboarding-dropdown\"),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 681\n            },\n            __self: this\n          }, React.createElement(Dropdown, {\n            className: css(styles.UserOnboarding_searchDropdown),\n            placeholder: \"Search keywords\",\n            fluid: true,\n            selection: true,\n            multiple: true,\n            icon: React.createElement(Icon, {\n              name: \"search\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 688\n              },\n              __self: this\n            }),\n            open: searchQuery.length > 0 && _this.state.keywordSearchOpen,\n            onBlur: function onBlur() {\n              return _this.setState({\n                keywordSearchOpen: false\n              });\n            },\n            onFocus: function onFocus() {\n              return _this.setState({\n                keywordSearchOpen: true\n              });\n            },\n            search: _this.handleSearchQuery,\n            value: keywords,\n            searchQuery: searchQuery,\n            options: keywordSearchOptions,\n            onChange: _this.handleKeywords,\n            onSearchChange: _this.handleSearchChange,\n            loading: loadingSearch,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 682\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: css(styles.UserOnboarding_continueButtonHolder),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 701\n            },\n            __self: this\n          }, \"\\xA0\", React.createElement(Button, {\n            className: css(styles.UserOnboarding_backButton),\n            type: \"submit\",\n            onClick: _this.decrementStep,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 702\n            },\n            __self: this\n          }, \"Back\"), React.createElement(Button, (_React$createElement = {\n            className: css(styles.UserOnboarding_continueButton),\n            type: \"submit\",\n            disabled: isSubmitting,\n            loading: isSubmitting\n          }, _defineProperty(_React$createElement, \"disabled\", !expertise || expertise.length === 0 || expertise.includes('other_specialty') && !otherSpecialty), _defineProperty(_React$createElement, \"onClick\", _this.handleSubmit), _defineProperty(_React$createElement, \"__source\", {\n            fileName: _jsxFileName,\n            lineNumber: 709\n          }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement), \"Finish\")));\n\n        default:\n          break;\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(UserOnboarding, [{\n    key: \"render\",\n    value: function render() {\n      var currentStep = this.state.currentStep;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 735\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: css(styles.UserOnboarding_logoBanner),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 736\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: haloLogo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 737\n        },\n        __self: this\n      })), React.createElement(Container, {\n        className: css(styles.UserOnboarding_container),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 739\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 740\n        },\n        __self: this\n      }, React.createElement(Grid.Row, {\n        className: css(styles.UserOnboarding_steps),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 741\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        className: css(styles.UserOnboarding_stepTab, currentStep === 1 && styles.UserOnboarding_activeTab),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 742\n        },\n        __self: this\n      }, \"Step 1: Role\"), React.createElement(Grid.Column, {\n        className: css(styles.UserOnboarding_stepTab, currentStep === 2 && styles.UserOnboarding_activeTab),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 749\n        },\n        __self: this\n      }, \"Step 2: Lab\"), React.createElement(Grid.Column, {\n        className: css(styles.UserOnboarding_stepTab, currentStep === 3 && styles.UserOnboarding_activeTab),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 756\n        },\n        __self: this\n      }, \"Step 3: Research Area\"))), React.createElement(\"div\", {\n        className: css(styles.UserOnboarding_stepContainer),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 765\n        },\n        __self: this\n      }, this.renderStep())));\n    }\n  }]);\n\n  return UserOnboarding;\n}(PureComponent);\n\nexport default UserOnboarding;","map":{"version":3,"sources":["/Volumes/Work/work/dev/project/projects/halo/app/javascript/src/userOnboarding/components/UserOnboarding/UserOnboarding.jsx"],"names":["React","PureComponent","css","StyleSheet","PropTypes","Container","Form","Radio","Grid","Dropdown","Button","Icon","_","debounce","classnames","COLORS","WINDOW_DIMENSIONS","authenticityToken","getCookie","haloLogo","TABLET_LANDSCAPE_MEDIA_QUERY","MOBILE_MEDIA_QUERY","styles","create","UserOnboarding_container","marginBottom","margin","UserOnboarding_logoBanner","textAlign","backgroundColor","snowWhite","paddingTop","paddingBottom","UserOnboarding_stepTab","width","fontSize","fontWeight","lineHeight","color","lightGray","paddingLeft","paddingRight","borderBottom","UserOnboarding_steps","marginLeft","UserOnboarding_activeTab","lightBlack","lightBlue","UserOnboarding_stepContainer","UserOnboarding_step1Description","UserOnboarding_subdescription","UserOnboarding_step2Description","UserOnboarding_step2Subdescription","darkGray","UserOnboarding_radioGroup","UserOnboarding_fieldLabel","UserOnboarding_inputContainer","UserOnboarding_fieldSublabel","UserOnboarding_dropdown","flexWrap","height","display","alignItems","UserOnboarding_input","padding","UserOnboarding_radioButton","UserOnboarding_leftInput","marginRight","border","borderColor","inputBorderGray","borderRadius","UserOnboarding_rightInput","UserOnboarding_radioLabel","UserOnboarding_continueButtonHolder","marginTop","flexDirection","UserOnboarding_continueButton","background","backgroundImage","white","UserOnboarding_backButton","UserOnboarding_searchDropdown","minHeight","UserOnboarding_searchContainer","UserOnboarding_topPadding","yearOptions","range","Date","getFullYear","map","year","key","text","value","String","titleOptions","gon","user_title_options","expertiseOptions","areas_of_expertise","keywordOptions","research_keywords","UserOnboarding","state","currentStep","title","location","startYear","expertise","companyName","keywords","searchQuery","loadingSearch","keywordSearchOptions","universityOptions","loadingLocationSearch","locationSearchQuery","incrementStep","setState","prevState","decrementStep","handleFirstName","e","selection","firstName","target","handleLastName","lastName","handleTitle","handleCompanyName","handleCompanyURL","companyURL","handleOtherSpecialty","otherSpecialty","handleLocation","handleLocationSearchQuery","options","query","uniqBy","concat","filter","university","length","universitySearch","name","fetch","method","headers","response","json","responseJson","universities","leading","trailing","handleLocationSearchChange","handleExpertise","handleKeywords","handleSearchQuery","keywordSearch","researchType","researchKeywords","keyword","handleSearchChange","handleSubmit","preventDefault","isSubmitting","errors","hasSubmitted","formData","FormData","append","replace","body","onboardingResponse","window","href","handleYears","attr","renderStep","step2Disabled","keywordSearchOpen","includes"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport { css, StyleSheet } from 'aphrodite';\nimport PropTypes from 'prop-types';\nimport { Container, Form, Radio, Grid, Dropdown, Button, Icon } from 'semantic-ui-react';\nimport _, { debounce } from 'lodash';\nimport classnames from \"classnames\";\nimport { COLORS, WINDOW_DIMENSIONS } from '../../../../constants';\nimport { authenticityToken, getCookie } from '../../../marketplace/utils/requests';\n\nimport haloLogo from '../../../../images/logos/halo_logo.svg';\n\nconst { TABLET_LANDSCAPE_MEDIA_QUERY, MOBILE_MEDIA_QUERY } = WINDOW_DIMENSIONS;\n\n\nconst styles = StyleSheet.create({\n  UserOnboarding_container: {\n    marginBottom: '100px',\n    [MOBILE_MEDIA_QUERY]: {\n      margin: '0'\n    },\n  },\n  UserOnboarding_logoBanner: {\n    textAlign: 'center',\n    backgroundColor: COLORS.snowWhite,\n    paddingTop: '15px',\n    paddingBottom: '15px',\n    marginBottom: '50px',\n  },\n  UserOnboarding_stepTab: {\n    textAlign: 'center',\n    width: '33%',\n    fontSize: '14px',\n    fontWeight: 600,\n    lineHeight: '16px',\n    color: COLORS.lightGray,\n    paddingBottom: '33px',\n    paddingLeft: '0',\n    paddingRight: '0',\n    borderBottom: `1px solid ${COLORS.lightGray}`,\n    [MOBILE_MEDIA_QUERY]: {\n      paddingBottom: '12px',\n    },\n  },\n  UserOnboarding_steps: {\n    [MOBILE_MEDIA_QUERY]: {\n      marginLeft: '0'\n    },\n  },\n  UserOnboarding_activeTab: {\n    color: COLORS.lightBlack,\n    borderBottom: `2px solid ${COLORS.lightBlue}`,\n  },\n  UserOnboarding_stepContainer: {\n    textAlign: 'center',\n    width: '60%',\n    margin: 'auto',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%'\n    },\n  },\n  UserOnboarding_step1Description: {\n    margin: '50px auto 5px',\n    color: COLORS.lightBlack,\n    fontSize: '24px',\n    lineHeight: '32px',\n    fontWeight: 'bold',\n    textAlign: 'left',\n    width: '90%',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%',\n    },\n  },\n  UserOnboarding_subdescription: {\n    fontSize: '14px',\n    textAlign: 'left',\n    width: '90%',\n    margin: '0 auto 30px',\n    color: COLORS.lightBlack,\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%'\n    },\n  },\n  UserOnboarding_step2Description: {\n    margin: '50px auto 5px',\n    width: '90%',\n    textAlign: 'left',\n    color: COLORS.lightBlack,\n    fontSize: '24px',\n    lineHeight: '32px',\n    fontWeight: 'bold',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%'\n    },\n  },\n  UserOnboarding_step2Subdescription: {\n    margin: '0 auto 50px',\n    width: '90%',\n    textAlign: 'left',\n    color: COLORS.darkGray,\n    fontSize: '13px',\n    lineHeight: '24px',\n  },\n  UserOnboarding_radioGroup: {\n    textAlign: 'left',\n    marginLeft: '30px',\n  },\n  UserOnboarding_fieldLabel: {\n    textAlign: 'left',\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '16px',\n    color: COLORS.darkGray,\n    margin: '0 auto 5px',\n    width: '90%',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%',\n    },\n  },\n  UserOnboarding_inputContainer: {\n    width: '90%',\n    margin: 'auto',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%',\n    },\n  },\n  UserOnboarding_fieldSublabel: {\n    textAlign: 'left',\n    fontSize: '10px',\n    fontWeight: 500,\n    lineHeight: '24px',\n    color: COLORS.lightGray,\n    margin: '0 auto 5px',\n    width: '90%',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%',\n    },\n  },\n  UserOnboarding_dropdown: {\n    width: '90%',\n    margin: 'auto',\n    flexWrap: 'wrap',\n    fontSize: '14px',\n    height: '48px',\n    display: 'flex',\n    alignItems: 'center',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%',\n    },\n  },\n  UserOnboarding_input: {\n    width: '90%',\n    margin: 'auto',\n    padding: '10px',\n    fontSize: '14px',\n    marginBottom: '10px',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%',\n    },\n  },\n  UserOnboarding_radioButton: {\n    marginBottom: '0px',\n  },\n  UserOnboarding_leftInput: {\n    width: '48%',\n    marginRight: '4%',\n    display: 'inline-block',\n    padding: '10px',\n    fontSize: '14px',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%',\n      border: '1px solid',\n      borderColor: COLORS.inputBorderGray,\n      borderRadius: '4px',\n      marginBottom: '10px'\n    },\n  },\n  UserOnboarding_rightInput: {\n    width: '48%',\n    display: 'inline-block',\n    padding: '10px',\n    fontSize: '14px',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%',\n      border: '1px solid',\n      borderColor: COLORS.inputBorderGray,\n      borderRadius: '4px'\n    },\n  },\n  UserOnboarding_radioLabel: {\n    fontSize: '14px',\n  },\n  UserOnboarding_continueButtonHolder: {\n    textAlign: 'left',\n    display: 'flex',\n    [MOBILE_MEDIA_QUERY]: {\n      marginTop: '30px',\n      flexDirection: 'column-reverse'\n    },\n  },\n  UserOnboarding_continueButton: {\n    background: COLORS.lightBlue,\n    backgroundImage: 'linear-gradient(134.72deg, #4E9DF5 0%, #48B2F4 100%)',\n    width: '166px',\n    height: '48px',\n    textAlign: 'center',\n    color: COLORS.white,\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    marginLeft: '4%',\n    marginTop: '50px',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%',\n      margin: '0'\n    },\n  },\n  UserOnboarding_backButton: {\n    backgroundColor: COLORS.white,\n    width: '166px',\n    height: '48px',\n    textAlign: 'center',\n    color: COLORS.lightBlack,\n    border: `1px solid ${COLORS.lightGray}`,\n    fontSize: '14px',\n    fontWeight: 500,\n    lineHeight: '20px',\n    marginLeft: '4%',\n    marginTop: '50px',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%',\n      marginLeft: '0',\n      marginTop: '8px'\n    },\n  },\n  UserOnboarding_searchDropdown: {\n    width: '90%',\n    fontSize: '14px',\n    minHeight: '48px',\n    paddingTop: '8px',\n    margin: 'auto',\n    [MOBILE_MEDIA_QUERY]: {\n      width: '100%'\n    },\n  },\n  UserOnboarding_searchContainer: {\n    display: 'flex'\n  },\n  UserOnboarding_topPadding: {\n    paddingTop: '16px',\n  },\n});\n\nconst yearOptions = _.range(new Date().getFullYear(), 1950, -1).map((year) => {\n  return {\n    key: year,\n    text: year,\n    value: String(year),\n  };\n});\n\nconst titleOptions = gon.user_title_options;\n\nconst expertiseOptions = gon.areas_of_expertise;\n\nconst keywordOptions = gon.research_keywords;\n\nclass UserOnboarding extends PureComponent {\n  state = {\n    currentStep: 1,\n    title: '',\n    location: '',\n    startYear: '',\n    expertise: '',\n    companyName: '',\n    keywords: [],\n    searchQuery: '',\n    loadingSearch: false,\n    keywordSearchOptions: [],\n    universityOptions: [],\n    loadingLocationSearch: false,\n    locationSearchQuery: '',\n  };\n\n  incrementStep = () => {\n    this.setState((prevState) => {\n      return {\n        currentStep: prevState.currentStep + 1,\n      };\n    })\n  };\n\n  decrementStep = () => {\n    this.setState((prevState) => {\n      return {\n        currentStep: prevState.currentStep - 1,\n      };\n    })\n  };\n\n  handleFirstName = (e, selection) => {\n    this.setState({\n      firstName: e.target.value,\n    });\n  };\n\n  handleLastName = (e, selection) => {\n    this.setState({\n      lastName: e.target.value,\n    });\n  };\n\n  handleTitle = (e, selection) => {\n    this.setState({\n      title: selection.value,\n    });\n  };\n\n  handleCompanyName = (e, selection) => {\n    this.setState({\n      companyName: e.target.value,\n    })\n  };\n\n  handleCompanyURL = (e, selection) => {\n    this.setState({\n      companyURL: e.target.value,\n    })\n  };\n\n  handleOtherSpecialty = (e, selection) => {\n    this.setState({\n      otherSpecialty: e.target.value,\n    })\n  };\n\n  handleLocation = (e, selection) => {\n    this.setState({\n      locationSearchQuery: selection.value,\n      location: selection.value,\n    });\n  };\n\n  handleLocationSearchQuery = (options, query) => {\n    const { universityOptions, location } = this.state;\n\n    return _.uniqBy(\n      [{ key: location, text: location, value: location }].concat(universityOptions), 'value')\n      .filter(university => university.value.length > 0);\n  }\n\n  universitySearch = debounce(async (name) => {\n    this.setState({ loadingLocationSearch: true });\n    const response = await fetch(`/universities/search?name=${name}`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n      }\n    });\n    const responseJson = await response.json();\n    const universities = responseJson.universities;\n\n    this.setState({\n      location: '',\n      universityOptions: universities,\n      loadingLocationSearch: false,\n    });\n  }, 500, { leading: true, trailing: true });\n\n  handleLocationSearchChange = async (e, { searchQuery }) => {\n    this.universitySearch(searchQuery);\n\n    this.setState({\n      locationSearchQuery: searchQuery,\n    });\n  };\n\n  handleExpertise = (e, selection) => {\n    this.setState({\n      expertise: selection.value,\n    });\n  };\n\n  handleKeywords = (e, selection) => {\n    this.setState((prevState) => {\n      if (selection.value.length > 6) {\n        return {\n          keywords: prevState.keywords,\n          searchQuery: '',\n        };\n      } else {\n        return {\n          keywords: selection.value || [],\n          searchQuery: '',\n        };\n      }\n    });\n  };\n\n  handleSearchQuery = (options, query) => {\n    return this.state.keywordSearchOptions;\n  }\n\n  keywordSearch = debounce(async (researchType) => {\n    const { keywords } = this.state;\n    this.setState({ loadingSearch: true });\n    const response = await fetch(`/research_keywords/search?research_type=${researchType}`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n      }\n    });\n    const responseJson = await response.json();\n    const researchKeywords = responseJson.research_keywords;\n\n    this.setState({\n      keywordSearchOptions: _.uniqBy(researchKeywords.concat(keywords.map((keyword) => {\n        return {\n          key: keyword,\n          text: keyword,\n          value: keyword,\n        };\n      })), 'key'),\n      loadingSearch: false,\n    });\n  }, 500, { leading: true, trailing: true });\n\n  handleSearchChange = async (e, { searchQuery }) => {\n    this.keywordSearch(searchQuery);\n\n    this.setState({\n      searchQuery,\n    });\n  };\n\n  handleSubmit = async (e) => {\n    e.preventDefault();\n    const {\n      title,\n      location,\n      expertise,\n      keywords,\n      companyName,\n      companyURL,\n      startYear,\n      otherSpecialty,\n    } = this.state;\n\n    this.setState({\n      isSubmitting: true,\n      errors: {},\n      hasSubmitted: true,\n    });\n\n\n    const formData = new FormData();\n    formData.append('user[first_name]', firstName);\n    formData.append('user[last_name]', lastName);\n    formData.append('user_profile_info[title]', title);\n\n    if (title === 'startup_founder') {\n      formData.append('startup[startup_name]', companyName);\n      formData.append('startup[url]', companyURL);\n      formData.append('startup[start_year]', startYear);\n    } else {\n      formData.append('user_profile_info[location]', location);\n      formData.append('user_profile_info[location_start_year]', startYear);\n    }\n    formData.append('user_profile_info[keywords]', keywords);\n    formData.append('user_profile_info[area_of_expertise]', expertise.replace('other_specialty', otherSpecialty));\n\n    try {\n      const onboardingResponse = await fetch('/onboarding', {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Accept': 'application/json',\n          'X-CSRF-Token': authenticityToken(),\n        }\n      });\n      const responseJson = await onboardingResponse.json();\n      if (responseJson.errors) {\n        this.setState({\n          isSubmitting: false,\n          errors: responseJson.errors,\n        });\n      } else {\n        window.location.href = '/research/water';\n      }\n    } catch(err) {\n      this.setState({ isSubmitting: false });\n    }\n  }\n\n  handleYears = (e, selection, attr) => {\n    this.setState({ [attr]: selection.value });\n  };\n\n  renderStep = () => {\n    const {\n      currentStep,\n      title,\n      location,\n      expertise,\n      keywords,\n      firstName,\n      lastName,\n      companyName,\n      companyURL,\n      isSubmitting,\n      searchQuery,\n      loadingSearch,\n      keywordSearchOptions,\n      startYear,\n      loadingLocationSearch,\n      locationSearchQuery,\n      universityOptions,\n      otherSpecialty,\n    } = this.state;\n\n    const step2Disabled = title === 'startup_founder' ? (\n      !companyName || !startYear || companyName.length === 0 || startYear.length === 0\n    ) : (\n      !location || !startYear || location.length === 0 || startYear.length === 0\n    )\n\n    switch (currentStep) {\n      case 1:\n        return (\n          <div>\n            <div className={css(styles.UserOnboarding_step1Description)}>\n              Tell us about yourself.\n            </div>\n            <div className={css(styles.UserOnboarding_subdescription)}>\n\n            </div>\n            <div className={css(styles.UserOnboarding_fieldLabel)}>\n              What best describes your role?\n            </div>\n            <div className=\"custom-dropdown\">\n              <Dropdown\n                icon=\"chevron down\"\n                className={css(styles.UserOnboarding_dropdown)}\n                placeholder='Select a role'\n                fluid\n                selection\n                value={title}\n                search\n                options={titleOptions}\n                onChange={this.handleTitle}\n              />\n            </div>\n            <div className={css(styles.UserOnboarding_continueButtonHolder)}>\n              <Button\n                className={css(styles.UserOnboarding_continueButton)}\n                type='submit'\n                onClick={this.incrementStep}\n                disabled={!title || !firstName || !lastName || firstName.length === 0 || lastName.length === 0 || title.length === 0}\n              >\n                Continue\n              </Button>\n            </div>\n          </div>\n        );\n      case 2:\n        return (\n          <div>\n            <div className={css(styles.UserOnboarding_step2Description)}>\n              Lab\n            </div>\n            <div className={css(styles.UserOnboarding_subdescription)}>\n              {title === 'startup_founder' ? 'Tell us about your startup' : 'Where do you conduct your research?'}\n            </div>\n            <div className={css(styles.UserOnboarding_fieldLabel)}>\n              {title === 'startup_founder' ? 'Company Name' : 'Research Institution'}\n            </div>\n            {title === 'startup_founder' ? (\n              <input\n                className={css(styles.UserOnboarding_input)}\n                placeholder='Company Name'\n                value={companyName}\n                onChange={this.handleCompanyName}\n              />\n            ) : (\n              <div className={classnames(css(styles.UserOnboarding_searchContainer), \"onboarding-dropdown\")}>\n                <Dropdown\n                  className={css(styles.UserOnboarding_searchDropdown, styles.UserOnboarding_topPadding)}\n                  placeholder='Search institutions'\n                  fluid\n                  icon={<Icon name='search'/>}\n                  selection\n                  open={universityOptions.length > 0 && !location}\n                  closeOnChange\n                  search={this.handleLocationSearchQuery}\n                  options={universityOptions}\n                  onChange={this.handleLocation}\n                  searchQuery={locationSearchQuery}\n                  onSearchChange={this.handleLocationSearchChange}\n                  loading={loadingLocationSearch}\n                />\n              </div>\n            )}\n            <br />\n            <div className={css(styles.UserOnboarding_fieldLabel)}>\n              Start Year\n            </div>\n            <div className=\"custom-dropdown\" style={{ paddingBottom: title === 'startup_founder' ? '10px' : '0' }}>\n              <Dropdown\n                icon=\"chevron down\"\n                className={css(styles.UserOnboarding_dropdown)}\n                fluid\n                selection\n                placeholder={title === 'startup_founder' ? 'Year Founded' : 'Select the year you started here'}\n                value={startYear || ''}\n                options={yearOptions}\n                onChange={(e, selection) => this.handleYears(e, selection, 'startYear')}\n              />\n            </div>\n            {title === 'startup_founder' &&\n              <>\n                <input\n                  className={css(styles.UserOnboarding_input)}\n                  placeholder='Company URL'\n                  value={companyURL}\n                  onChange={this.handleCompanyURL}\n                />\n              </> }\n            <div className={css(styles.UserOnboarding_continueButtonHolder)}>\n              <Button\n                className={css(styles.UserOnboarding_backButton)}\n                type='submit'\n                onClick={this.decrementStep}\n              >\n                Back\n              </Button>\n              <Button\n                className={css(styles.UserOnboarding_continueButton)}\n                type='submit'\n                onClick={this.incrementStep}\n                disabled={step2Disabled}\n              >\n                Continue\n              </Button>\n            </div>\n          </div>\n        );\n      case 3:\n        return (\n          <div>\n            <div className={css(styles.UserOnboarding_step2Description)}>\n              Research Area\n            </div>\n            <div className={css(styles.UserOnboarding_subdescription)}>\n              This will appear on your profile to help industry partners find you.\n              Dont worry, you can always change this later.\n            </div>\n            <div className={css(styles.UserOnboarding_fieldLabel)}>\n              Research Area\n            </div>\n            <div className=\"custom-dropdown\">\n              <Dropdown\n                icon=\"chevron down\"\n                className={css(styles.UserOnboarding_dropdown)}\n                placeholder='Research Area (select one)'\n                fluid\n                selection\n                options={expertiseOptions}\n                onChange={this.handleExpertise}\n              />\n            </div>\n            {expertise === 'other_specialty' &&\n              <input\n                className={css(styles.UserOnboarding_input)}\n                placeholder='Specify your specialty...'\n                value={otherSpecialty}\n                onChange={this.handleOtherSpecialty}\n              />}\n            <br />\n            <div className={css(styles.UserOnboarding_fieldLabel)}>\n              Select up to 6 keywords that describe your lab research.\n            </div>\n            <div className={classnames(css(styles.UserOnboarding_searchContainer), \"onboarding-dropdown\")}>\n              <Dropdown\n                className={css(styles.UserOnboarding_searchDropdown)}\n                placeholder='Search keywords'\n                fluid\n                selection\n                multiple\n                icon={<Icon name='search'/>}\n                open={searchQuery.length > 0 && this.state.keywordSearchOpen}\n                onBlur={() => this.setState({ keywordSearchOpen: false })}\n                onFocus={() => this.setState({ keywordSearchOpen: true })}\n                search={this.handleSearchQuery}\n                value={keywords}\n                searchQuery={searchQuery}\n                options={keywordSearchOptions}\n                onChange={this.handleKeywords}\n                onSearchChange={this.handleSearchChange}\n                loading={loadingSearch}\n              />\n            </div>\n            <div className={css(styles.UserOnboarding_continueButtonHolder)}>\n              <Button\n                className={css(styles.UserOnboarding_backButton)}\n                type='submit'\n                onClick={this.decrementStep}\n              >\n                Back\n              </Button>\n              <Button\n                className={css(styles.UserOnboarding_continueButton)}\n                type='submit'\n                disabled={isSubmitting}\n                loading={isSubmitting}\n                disabled={\n                  !expertise ||\n                  expertise.length === 0 ||\n                  (expertise.includes('other_specialty') && !otherSpecialty)\n                }\n                onClick={this.handleSubmit}\n              >\n                Finish\n              </Button>\n            </div>\n          </div>\n        );\n      default:\n        break;\n    }\n  };\n\n  render() {\n    const { currentStep } = this.state;\n\n    return (\n      <div>\n        <div className={css(styles.UserOnboarding_logoBanner)}>\n          <img src={haloLogo} />\n        </div>\n        <Container className={css(styles.UserOnboarding_container)}>\n          <Grid>\n            <Grid.Row className={css(styles.UserOnboarding_steps)}>\n              <Grid.Column\n                className={css(\n                  styles.UserOnboarding_stepTab,\n                  currentStep === 1 && styles.UserOnboarding_activeTab\n                )}>\n                Step 1: Role\n              </Grid.Column>\n              <Grid.Column\n                className={css(\n                  styles.UserOnboarding_stepTab,\n                  currentStep === 2 && styles.UserOnboarding_activeTab\n                )}>\n                Step 2: Lab\n              </Grid.Column>\n              <Grid.Column\n                className={css(\n                  styles.UserOnboarding_stepTab,\n                  currentStep === 3 && styles.UserOnboarding_activeTab\n                )}>\n                Step 3: Research Area\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n          <div className={css(styles.UserOnboarding_stepContainer)}>\n            {this.renderStep()}\n          </div>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default UserOnboarding;\n"]},"metadata":{},"sourceType":"module"}